<\!DOCTYPE html><html><head><meta charset="utf-8"><title>EUNACOM Marketing Intelligence System</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:40px auto;padding:20px;line-height:1.6}h1{color:#1a73e8;border-bottom:3px solid #1a73e8;padding-bottom:10px}h2{color:#333;border-bottom:1px solid #ddd;padding-bottom:5px;margin-top:30px}h3{color:#555}code{background:#f4f4f4;padding:2px 6px;border-radius:3px}pre{background:#f4f4f4;padding:15px;border-radius:5px;overflow-x:auto}</style></head><body>
<h1>EUNACOM Marketing Intelligence System
<h2>DocumentaciÃ³n de DiseÃ±o - Google Ads API Integration

**Empresa:** EUNACOMTEST
**Sitio Web:** https://eunacomtest.cl
**Fecha:** Octubre 2025
**VersiÃ³n:** 1.0

---

<h2>1. DESCRIPCIÃ“N GENERAL

El **EUNACOM Marketing Intelligence System** es una plataforma interna de anÃ¡lisis y reporting para optimizar campaÃ±as publicitarias de Google Ads.

<h3>Objetivo
Centralizar mÃ©tricas de marketing digital en un dashboard unificado que permita:
- Monitorear rendimiento de campaÃ±as en tiempo real
- Generar reportes automÃ¡ticos con anÃ¡lisis de IA
- Recibir recomendaciones accionables para optimizaciÃ³n
- Visualizar tendencias y patrones de rendimiento

<h3>Usuario Final
Equipo interno de marketing de EUNACOMTEST (3-5 usuarios)

---

<h2>2. ARQUITECTURA DEL SISTEMA

<h3>Componentes Principales

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend Dashboard                      â”‚
â”‚         (React + TypeScript + Recharts)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ REST API
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend API                             â”‚
â”‚         (Node.js + Express + Prisma)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚            â”‚              â”‚
     â–¼            â–¼            â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google  â”‚  â”‚ Google   â”‚ â”‚  OpenAI    â”‚ â”‚PostgreSQLâ”‚
â”‚  Ads    â”‚  â”‚Analytics â”‚ â”‚    API     â”‚ â”‚ Database â”‚
â”‚  API    â”‚  â”‚ 4 API    â”‚ â”‚            â”‚ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<h3>Stack TecnolÃ³gico
- **Backend:** Node.js 20+ con TypeScript
- **Framework:** Express.js
- **Base de datos:** PostgreSQL 15+
- **ORM:** Prisma
- **LibrerÃ­as de integraciÃ³n:**
  - `google-ads-api` v16.0.0
  - `@google-analytics/data` v4.0.0
  - `openai` v4.0.0

---

<h2>3. INTEGRACIÃ“N CON GOOGLE ADS API

<h3>3.1 AutenticaciÃ³n

**MÃ©todo:** OAuth 2.0 con Refresh Token

**Credenciales:**
- **Developer Token:** Almacenado de forma segura en variables de entorno
- **Client ID / Client Secret:** OAuth 2.0 credentials de Google Cloud Project
- **Refresh Token:** Generado una vez, almacenado encriptado
- **Customer ID:** 725-201-2286 (MCC Account)

**Flujo de autenticaciÃ³n:**
1. Refresh token almacenado se usa para obtener access token
2. Access token se renueva automÃ¡ticamente antes de expirar
3. No se requiere intervenciÃ³n manual del usuario

<h3>3.2 Operaciones de API

**SOLO LECTURA - No se modifican campaÃ±as**

#### Endpoints Utilizados:

**1. GoogleAdsService.ReportingService**
```
Queries GAQL (Google Ads Query Language)
- SELECT campaign metrics
- SELECT ad_group metrics
- SELECT keyword_view data
```

**2. MÃ©tricas Recolectadas:**
- Impresiones (impressions)
- Clicks (clicks)
- Conversiones (conversions)
- Costo (cost_micros)
- CTR (ctr)
- CPC promedio (average_cpc)
- Valor de conversiones (conversions_value)

**3. Recursos Accedidos:**
- `campaign` - InformaciÃ³n de campaÃ±as
- `campaign_budget` - Presupuestos
- `ad_group` - Grupos de anuncios
- `ad_group_criterion` - Criterios (keywords)
- `keyword_view` - Rendimiento de palabras clave
- `customer` - InformaciÃ³n de cuenta

<h3>3.3 Tipos de CampaÃ±a Soportados

La herramienta analiza **todos los tipos de campaÃ±a**:
- BÃºsqueda (Search)
- Display
- Video (YouTube)
- Shopping
- Rendimiento mÃ¡ximo (Performance Max)
- Descubrimiento (Discovery)
- App campaigns

<h3>3.4 Frecuencia de Acceso

- **SincronizaciÃ³n automÃ¡tica:** Cada 60 minutos (configurable)
- **Queries manuales:** Bajo demanda del usuario
- **Rate limiting:** Respeta lÃ­mites de API de Google
- **CachÃ©:** 15 minutos para reducir llamadas

<h3>3.5 Ejemplo de Query GAQL

```sql
SELECT
  campaign.id,
  campaign.name,
  campaign.status,
  metrics.impressions,
  metrics.clicks,
  metrics.conversions,
  metrics.cost_micros,
  metrics.ctr,
  metrics.average_cpc
FROM campaign
WHERE campaign.status != 'REMOVED'
  AND segments.date BETWEEN '2025-10-01' AND '2025-10-20'
ORDER BY metrics.impressions DESC
```

---

<h2>4. FUNCIONALIDADES PRINCIPALES

<h3>4.1 Dashboard de MÃ©tricas
- **Vista general:** KPIs principales (gasto, conversiones, ROI)
- **GrÃ¡ficos de tendencia:** EvoluciÃ³n temporal de mÃ©tricas
- **ComparaciÃ³n:** PerÃ­odo actual vs. anterior
- **Filtros:** Por campaÃ±a, fecha, tipo

<h3>4.2 Reporting Automatizado
- **Reportes diarios:** Resumen de rendimiento del dÃ­a anterior
- **Reportes semanales:** AnÃ¡lisis semanal con tendencias
- **Reportes mensuales:** Overview mensual con comparativa
- **ExportaciÃ³n:** PDF, Excel, CSV

<h3>4.3 AnÃ¡lisis con IA (OpenAI GPT-4)
- **DetecciÃ³n de anomalÃ­as:** Identificar cambios significativos (>20%)
- **Insights automÃ¡ticos:** AnÃ¡lisis de rendimiento por campaÃ±a
- **Recomendaciones priorizadas:** Sugerencias accionables con impacto estimado
- **Predicciones:** Tendencias futuras basadas en datos histÃ³ricos

<h3>4.4 Sistema de Recomendaciones
- **CategorÃ­as:**
  - OptimizaciÃ³n de presupuesto
  - Ajuste de keywords
  - Mejora de anuncios
  - Refinamiento de targeting
  - Estrategia de puja
  - OptimizaciÃ³n de horarios

- **PriorizaciÃ³n:**
  - CRITICAL: AcciÃ³n inmediata requerida
  - HIGH: Implementar en 7 dÃ­as
  - MEDIUM: Implementar en 14 dÃ­as
  - LOW: Mejora opcional

---

<h2>5. ALMACENAMIENTO DE DATOS

<h3>5.1 Base de Datos PostgreSQL

**Modelos principales:**
- `Campaign` - CampaÃ±as sincronizadas
- `CampaignMetric` - MÃ©tricas diarias por campaÃ±a
- `Recommendation` - Recomendaciones generadas por IA
- `MarketingAIAnalysis` - AnÃ¡lisis histÃ³ricos de IA

<h3>5.2 RetenciÃ³n de Datos
- **MÃ©tricas diarias:** 90 dÃ­as (configurable)
- **AnÃ¡lisis de IA:** Permanente
- **Recomendaciones:** 90 dÃ­as desde creaciÃ³n
- **Logs de auditorÃ­a:** 180 dÃ­as

---

<h2>6. SEGURIDAD Y PRIVACIDAD

<h3>6.1 Seguridad de Credenciales
- âœ… Variables de entorno (`.env`) - no versionadas
- âœ… Refresh tokens encriptados en base de datos
- âœ… Acceso mediante HTTPS exclusivamente
- âœ… ValidaciÃ³n de permisos por usuario

<h3>6.2 Acceso a Datos
- **Solo lectura:** No se modifican campaÃ±as ni configuraciones
- **Datos propios:** Solo accede a cuentas del MCC 725-201-2286
- **Sin terceros:** Datos no se comparten con entidades externas
- **Cumplimiento:** Siguiendo polÃ­ticas de Google Ads API

<h3>6.3 Usuarios Autorizados
- Equipo de marketing interno (3-5 personas)
- AutenticaciÃ³n con JWT
- Roles: Admin, Marketing Manager, Analyst

---

<h2>7. FLUJO DE TRABAJO TÃPICO

<h3>Caso de Uso: AnÃ¡lisis Semanal Automatizado

```
1. CRON JOB SE EJECUTA
   â†“
2. SINCRONIZAR MÃ‰TRICAS
   - Conectar a Google Ads API
   - Obtener mÃ©tricas de Ãºltimos 7 dÃ­as
   - Guardar en base de datos
   â†“
3. ANALIZAR CON IA
   - OpenAI GPT-4 analiza mÃ©tricas
   - Detecta anomalÃ­as y patrones
   - Genera insights y recomendaciones
   â†“
4. ALMACENAR RESULTADOS
   - Guardar anÃ¡lisis en BD
   - Crear recomendaciones priorizadas
   â†“
5. NOTIFICAR USUARIOS
   - Email con resumen ejecutivo
   - Dashboard actualizado
   - Alertas para items crÃ­ticos
```

---

<h2>8. LIMITACIONES Y ALCANCE

<h3>Operaciones NO Realizadas
- âŒ CreaciÃ³n de cuentas de Google Ads
- âŒ CreaciÃ³n de campaÃ±as
- âŒ ModificaciÃ³n de campaÃ±as existentes
- âŒ GestiÃ³n de presupuestos
- âŒ Cambio de pujas o keywords
- âŒ AprobaciÃ³n/rechazo de anuncios

<h3>Operaciones Realizadas
- âœ… Lectura de mÃ©tricas de campaÃ±as
- âœ… AnÃ¡lisis de rendimiento
- âœ… GeneraciÃ³n de reportes
- âœ… Recomendaciones de optimizaciÃ³n
- âœ… VisualizaciÃ³n de datos
- âœ… DetecciÃ³n de anomalÃ­as

---

<h2>9. MÃ‰TRICAS DE RENDIMIENTO

<h3>9.1 Performance Esperado
- **Tiempo de sincronizaciÃ³n:** < 30 segundos por campaÃ±a
- **GeneraciÃ³n de reporte:** < 10 segundos
- **AnÃ¡lisis de IA:** < 60 segundos
- **Latencia de dashboard:** < 2 segundos

<h3>9.2 Volumen de Datos
- **CampaÃ±as monitoreadas:** 1-20
- **MÃ©tricas por dÃ­a:** ~500 registros
- **AnÃ¡lisis de IA por mes:** ~8 (diario + semanal)
- **API calls por dÃ­a:** ~100-200

---

<h2>10. ROADMAP Y FUTURAS MEJORAS

<h3>Fase 1 (Actual)
- âœ… IntegraciÃ³n con Google Ads API
- âœ… Dashboard bÃ¡sico de mÃ©tricas
- âœ… AnÃ¡lisis con IA (OpenAI)
- âœ… Sistema de recomendaciones

<h3>Fase 2 (Q1 2026)
- ğŸ”„ IntegraciÃ³n con Google Analytics 4
- ğŸ”„ IntegraciÃ³n con Google Search Console
- ğŸ”„ Reportes personalizados por usuario
- ğŸ”„ Alertas en tiempo real

<h3>Fase 3 (Q2 2026)
- â³ Predicciones de conversiÃ³n con ML
- â³ A/B testing de recomendaciones
- â³ IntegraciÃ³n con CRM
- â³ API pÃºblica para extensiones

---

<h2>11. SOPORTE Y MANTENIMIENTO

<h3>Equipo Responsable
- **Desarrollador principal:** Eduardo ColÃ³n (ecolonco@gmail.com)
- **Empresa:** EUNACOMTEST
- **Tipo:** Desarrollo interno (no outsourcing)

<h3>Actualizaciones
- **CÃ³digo:** Versionado con Git/GitHub
- **Dependencias:** ActualizaciÃ³n mensual de seguridad
- **API clients:** ActualizaciÃ³n trimestral

---

<h2>12. CUMPLIMIENTO Y POLÃTICAS

<h3>Google Ads API Policies
- âœ… Solo lectura de datos propios
- âœ… No modificaciÃ³n de campaÃ±as sin intervenciÃ³n humana
- âœ… Almacenamiento seguro de credenciales
- âœ… Respeto a rate limits
- âœ… Uso interno exclusivo (no reventa de datos)

<h3>GDPR / Privacidad
- âœ… Datos almacenados en servidores seguros
- âœ… Acceso restringido a usuarios autorizados
- âœ… No se comparten datos con terceros
- âœ… PolÃ­tica de retenciÃ³n de datos definida

---

<h2>13. CONTACTO

**Nombre de Contacto:** Eduardo ColÃ³n
**Email:** ecolonco@gmail.com
**Empresa:** EUNACOMTEST
**Sitio Web:** https://eunacomtest.cl
**UbicaciÃ³n:** Chile

**Google Ads MCC Account:** 725-201-2286
**Google Cloud Project:** EUNACOM Platform

---

<h2>ANEXOS

<h3>A. Diagrama de Flujo de Datos

```
Usuario
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend React  â”‚
â”‚   Dashboard     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTPS/REST
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend API   â”‚
â”‚  (Node.js)      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚       â”‚
     â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                  â”‚
     â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google     â”‚   â”‚   OpenAI     â”‚
â”‚  Ads API    â”‚   â”‚   GPT-4      â”‚
â”‚             â”‚   â”‚              â”‚
â”‚ â€¢ Campaigns â”‚   â”‚ â€¢ Analysis   â”‚
â”‚ â€¢ Metrics   â”‚   â”‚ â€¢ Insights   â”‚
â”‚ â€¢ Keywords  â”‚   â”‚ â€¢ Predictionsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<h3>B. Ejemplo de RecomendaciÃ³n Generada

```json
{
  "priority": "high",
  "category": "keywords",
  "title": "Optimizar palabras clave de bajo rendimiento",
  "description": "3 keywords tienen CTR <1% pero consumen 15% del presupuesto",
  "action": "Pausar o ajustar puja de: 'preparacion eunacom', 'curso medicina', 'examen medico'",
  "estimatedImpact": "+12% ROI, -$50,000 CLP/mes en gasto desperdiciado",
  "confidence": 0.87
}
```

---

**Ãšltima actualizaciÃ³n:** Octubre 2025
**Documento preparado para:** Google Ads API Standard Access Application
</body></html>
